<!DOCTYPE html>
<html>
<head>
    <title>Auto Icon Picker</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f4f4f9; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; }
        .icon-card { background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); overflow: hidden;}
        img { max-width: 64px; height: auto; margin-bottom: 10px; border: 1px solid #eee; padding: 5px; }
        input { width: 90%; font-size: 10px; padding: 5px; border: 1px solid #ddd; margin-top: 5px; cursor: pointer; }
        p { margin: 5px 0; font-size: 12px; font-weight: bold; color: #333; }
    </style>
</head>
<body>
    <h1>My Raindrop Icon Gallery</h1>
    <div id="gallery" class="gallery">Loading icons...</div>

    <script>
        // --- CONFIGURATION ---
        const USER = 'ToddCampbellDotCom'; // Change this
        const REPO = 'my-icons';           // Change this
        // ---------------------

        async function loadIcons() {
            const gallery = document.getElementById('gallery');
            try {
                // Fetch file list from GitHub API
                const response = await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/`);
                const files = await response.json();
                
                gallery.innerHTML = ''; // Clear loading text

                files.forEach(file => {
                    // Only show image files (png, jpg, svg, etc.)
                    if (file.type === 'file' && /\.(png|jpg|jpeg|svg|gif|webp)$/i.test(file.name)) {
                        const directUrl = `https://${USER}.github.io/${REPO}/${file.name}`;
                        
                        const card = document.createElement('div');
                        card.className = 'icon-card';
                        card.innerHTML = `
                            <img src="${file.name}" alt="${file.name}">
                            <p>${file.name}</p>
                            <input type="text" readonly value="${directUrl}" onclick="this.select(); document.execCommand('copy'); alert('Copied!')">
                        `;
                        gallery.appendChild(card);
                    }
                });
            } catch (error) {
                gallery.innerHTML = 'Error loading icons. Check your username and repository name.';
                console.error(error);
            }
        }

        loadIcons();
    </script>
</body>
</html>
